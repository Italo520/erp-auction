"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[969],{63:(e,t,a)=>{var r=a(7260);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},211:(e,t,a)=>{a.d(t,{Yq:()=>l,vv:()=>r});let r=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),l=e=>{let t=new Date(e);return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(t)}},1142:(e,t,a)=>{a.d(t,{m:()=>s});var r=a(5155);a(2115);var l=a(1433);let s=e=>{let{children:t,className:a,fluid:s=!1}=e;return(0,r.jsx)("div",{className:(0,l.cn)("w-full mx-auto px-4 md:px-6 py-6",!s&&"max-w-7xl",a),children:t})}},1433:(e,t,a)=>{a.d(t,{cn:()=>s});var r=a(2821),l=a(5889);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.QP)((0,r.$)(t))}},1873:(e,t,a)=>{a.d(t,{A:()=>r});let r=(0,a(1847).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},2292:(e,t,a)=>{a.d(t,{f:()=>u});var r=a(5155);a(2115);var l=a(1847);let s=(0,l.A)("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]]);var o=a(5870);let c=(0,l.A)("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),n=(0,l.A)("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);var i=a(9715),d=a(1873);let u=e=>{let{vehicle:t}=e,a=[{label:"Combust\xedvel",value:t.fuel,icon:(0,r.jsx)(s,{size:18})},{label:"C\xe2mbio",value:t.transmission,icon:(0,r.jsx)(o.A,{size:18})},{label:"Quilometragem",value:"".concat(t.mileage.toLocaleString()," km"),icon:(0,r.jsx)(c,{size:18})},{label:"Cor",value:t.color,icon:(0,r.jsx)("div",{className:"w-4 h-4 rounded-full bg-slate-400",style:{backgroundColor:t.color.toLowerCase()}})},{label:"Final da Placa",value:t.plateEnd,icon:(0,r.jsx)(n,{size:18})},{label:"Chassi (VIN)",value:t.chassisNumber,icon:(0,r.jsx)(i.A,{size:18}),fullWidth:!0},{label:"Localiza\xe7\xe3o",value:"".concat(t.locationCity||"--"," - ").concat(t.locationState||"--"),icon:(0,r.jsx)(d.A,{size:18}),fullWidth:!0}];return(0,r.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl p-6",children:[(0,r.jsx)("h3",{className:"font-semibold text-slate-900 dark:text-white mb-4",children:"Ficha T\xe9cnica"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-4 gap-x-8",children:a.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-start gap-3 ".concat(e.fullWidth?"md:col-span-2":""),children:[(0,r.jsx)("div",{className:"mt-0.5 text-slate-400",children:e.icon}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:e.value||"--"}),(0,r.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:e.label})]})]},t))})]})}},4197:(e,t,a)=>{a.d(t,{y:()=>o});var r=a(5155);a(2115);var l=a(1433);let s=(0,a(1847).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),o=e=>{let{size:t="md",className:a}=e;return(0,r.jsx)(s,{className:(0,l.cn)("animate-spin text-primary",{sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[t],a)})}},5132:(e,t,a)=>{a.d(t,{$:()=>o});var r=a(5155),l=a(2115),s=a(1433);let o=l.forwardRef((e,t)=>{let{className:a,variant:l="primary",size:o="md",isLoading:c=!1,leftIcon:n,rightIcon:i,children:d,disabled:u,fullWidth:h=!1,...x}=e;return(0,r.jsxs)("button",{ref:t,disabled:u||c,className:(0,s.cn)("inline-flex items-center justify-center rounded-lg font-bold leading-normal tracking-[0.015em] transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-primary/50 focus:ring-offset-1 dark:focus:ring-offset-[#101622]","disabled:opacity-50 disabled:cursor-not-allowed active:scale-[0.98]","border",{primary:"bg-primary hover:bg-primary/90 text-white shadow-lg shadow-primary/20 border-transparent",secondary:"bg-white dark:bg-[#111722] border-slate-200 dark:border-[#324467] text-slate-900 dark:text-white hover:bg-slate-50 dark:hover:bg-[#232f48]",outline:"bg-transparent border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800",ghost:"bg-transparent border-transparent text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800",danger:"bg-red-500/10 hover:bg-red-500/20 text-red-500 border-red-500/20"}[l],{sm:"h-9 px-3 text-xs",md:"h-12 md:h-14 px-6 text-sm md:text-base",lg:"h-14 px-8 text-base"}[o],h?"w-full":"",a),...x,children:[c&&(0,r.jsx)("span",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),!c&&n&&(0,r.jsx)("span",{className:"mr-2 flex items-center",children:n}),(0,r.jsx)("span",{className:"truncate",children:d}),!c&&i&&(0,r.jsx)("span",{className:"ml-2 flex items-center",children:i})]})});o.displayName="Button"},5626:(e,t,a)=>{a.d(t,{A:()=>r});let r=(0,a(1847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5870:(e,t,a)=>{a.d(t,{A:()=>r});let r=(0,a(1847).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6472:(e,t,a)=>{a.d(t,{F:()=>l});var r=a(1136);class l{async upload(e,t){try{let{data:a,error:l}=await r.N.storage.from(this.bucket).upload(t,e,{cacheControl:"3600",upsert:!1});if(l)throw l;return this.getUrl(a.path)}catch(e){throw console.error("Erro no upload:",e),Error("Falha ao fazer upload do arquivo.")}}async delete(e){try{let t=this.extractPathFromUrl(e);if(!t)return void console.warn("URL inv\xe1lida ou arquivo n\xe3o pertence a este bucket:",e);let{error:a}=await r.N.storage.from(this.bucket).remove([t]);if(a)throw a}catch(e){throw console.error("Erro ao deletar arquivo:",e),Error("Falha ao remover arquivo do armazenamento.")}}getUrl(e){let{data:t}=r.N.storage.from(this.bucket).getPublicUrl(e);return t.publicUrl}async uploadVehicleImage(e,t){try{let a=e.name.split(".").pop(),r="".concat(Date.now(),"-").concat(Math.random().toString(36).substring(7),".").concat(a),l="".concat(t,"/").concat(r);return await this.upload(e,l)}catch(e){throw console.error("Erro no upload da imagem do ve\xedculo:",e),Error("Falha ao fazer upload da imagem do ve\xedculo.")}}async deleteVehicleImage(e){return this.delete(e)}getImageUrl(e){return this.getUrl(e)}async listVehicleImages(e){try{let{data:t,error:a}=await r.N.storage.from(this.bucket).list(e,{limit:100,offset:0,sortBy:{column:"name",order:"asc"}});if(a)throw a;return t?t.map(t=>this.getUrl("".concat(e,"/").concat(t.name))):[]}catch(e){return console.error("Erro ao listar imagens:",e),[]}}extractPathFromUrl(e){try{let t="/storage/v1/object/public/".concat(this.bucket,"/"),a=e.indexOf(t);if(-1!==a)return e.substring(a+t.length);return null}catch(e){return null}}constructor(){this.bucket="vehicles"}}},8010:(e,t,a)=>{a.d(t,{Z:()=>s});var r=a(5155);a(2115);var l=a(211);let s=e=>{let{vehicle:t}=e;return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsx)("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-semibold uppercase ".concat((e=>{switch(e){case"PUBLISHED":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case"SOLD":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";case"UNSOLD":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";default:return"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-400"}})(t.status)),children:{DRAFT:"Rascunho",PUBLISHED:"Publicado",SOLD:"Vendido",UNSOLD:"N\xe3o Vendido",WITHDRAWN:"Retirado"}[t.status]||t.status}),(0,r.jsxs)("span",{className:"text-sm text-slate-500",children:["ID: ",t.id.slice(0,8)]})]}),(0,r.jsxs)("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:[t.make," ",t.model," ",(0,r.jsx)("span",{className:"text-slate-400 font-normal",children:t.version})]}),(0,r.jsxs)("p",{className:"text-lg text-slate-500 dark:text-slate-400 mt-1",children:[t.yearManufacture,"/",t.yearModel]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 py-6 border-y border-slate-200 dark:border-slate-800",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Lance Inicial"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:(0,l.vv)(t.initialBid)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Incremento M\xednimo"}),(0,r.jsx)("p",{className:"text-xl font-semibold text-slate-700 dark:text-slate-300",children:(0,l.vv)(t.minimumIncrement)})]})]}),t.description&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-slate-900 dark:text-white mb-2",children:"Descri\xe7\xe3o"}),(0,r.jsx)("p",{className:"text-slate-600 dark:text-slate-400 text-sm leading-relaxed",children:t.description})]})]})}},9129:(e,t,a)=>{a.d(t,{T:()=>d});var r=a(2115);class l{async execute(e){return this.vehicleRepository.create(e)}constructor(e){this.vehicleRepository=e}}class s{async execute(e){return this.vehicleRepository.findAll(e)}constructor(e){this.vehicleRepository=e}}class o{async execute(e,t){if(!e)throw Error("Vehicle ID is required");return this.vehicleRepository.update(e,t)}constructor(e){this.vehicleRepository=e}}class c{async execute(e){if(!e)throw Error("Vehicle ID is required");return this.vehicleRepository.findById(e)}constructor(e){this.vehicleRepository=e}}var n=a(334),i=a(6472);function d(){let{vehicleRepo:e}=(0,n.u)(),[t,a]=(0,r.useState)(null),[d,u]=(0,r.useState)(null),[h,x]=(0,r.useState)(!1),[m,p]=(0,r.useState)(null),y=(0,r.useMemo)(()=>new i.F,[]),b=(0,r.useMemo)(()=>new l(e),[e]),g=(0,r.useMemo)(()=>new s(e),[e]),v=(0,r.useMemo)(()=>new o(e),[e]),f=(0,r.useMemo)(()=>new c(e),[e]),k=(0,r.useCallback)(async e=>{x(!0),p(null);try{let t=await g.execute(e);a(t)}catch(e){p("Erro ao carregar ve\xedculos"),console.error(e)}finally{x(!1)}},[g]),w=(0,r.useCallback)(async e=>{x(!0),p(null);try{let t=await f.execute(e);return u(t),t}catch(e){return p("Erro ao buscar ve\xedculo"),console.error(e),null}finally{x(!1)}},[f]);return{vehicles:t,currentVehicle:d,isLoading:h,error:m,fetchVehicles:k,getVehicle:w,createVehicle:(0,r.useCallback)(async t=>{x(!0),p(null);try{let{vehicleImageFiles:a,...r}=t,l=await b.execute(r),s=[];if(a&&a.length>0)for(let e of a){let t=await y.uploadVehicleImage(e,l.id);s.push(t)}let o=[...(r.images||[]).map(e=>e.url),...s];return o.length>0&&await e.addImages(l.id,o),await f.execute(l.id)||l}catch(e){throw p("Erro ao criar ve\xedculo"),console.error(e),e}finally{x(!1)}},[b,y,e,f]),updateVehicle:(0,r.useCallback)(async(e,t)=>{x(!0),p(null);try{let a=await v.execute(e,t);return u(a),a}catch(e){throw p("Erro ao atualizar ve\xedculo"),console.error(e),e}finally{x(!1)}},[v])}}},9715:(e,t,a)=>{a.d(t,{A:()=>r});let r=(0,a(1847).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])}}]);