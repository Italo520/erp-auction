(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[594],{63:(e,t,r)=>{"use strict";var s=r(7260);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},211:(e,t,r)=>{"use strict";r.d(t,{Yq:()=>a,vv:()=>s});let s=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),a=e=>{let t=new Date(e);return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(t)}},1040:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l,a:()=>n});var s=r(5155);r(2115);var a=r(1433);let l=e=>{let{className:t,children:r,noPadding:l=!1,...n}=e;return(0,s.jsx)("div",{className:(0,a.cn)("flex flex-col rounded-xl bg-white dark:bg-[#1e293b] border border-slate-200 dark:border-slate-700/50 shadow-sm overflow-hidden",!l&&"p-5",t),...n,children:r})},n=e=>{let{className:t,title:r,action:l,icon:n,iconColor:i="text-primary",iconBgColor:d="bg-primary/10",...c}=e;return(0,s.jsxs)("div",{className:(0,a.cn)("flex justify-between items-start mb-2",t),...c,children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[n&&(0,s.jsx)("div",{className:(0,a.cn)("p-2 rounded-lg flex items-center justify-center",d,i),children:n}),(0,s.jsx)("p",{className:"text-slate-500 dark:text-[#92a4c9] text-sm font-medium",children:r})]}),l]})}},1142:(e,t,r)=>{"use strict";r.d(t,{m:()=>l});var s=r(5155);r(2115);var a=r(1433);let l=e=>{let{children:t,className:r,fluid:l=!1}=e;return(0,s.jsx)("div",{className:(0,a.cn)("w-full mx-auto px-4 md:px-6 py-6",!l&&"max-w-7xl",r),children:t})}},1390:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var s=r(5155),a=r(2115),l=r(1433);let n=a.forwardRef((e,t)=>{let{className:r,label:a,error:n,leftIcon:i,rightIcon:d,rightElement:c,containerClassName:o,id:u,...x}=e,m=u||x.name;return(0,s.jsxs)("div",{className:(0,l.cn)("flex flex-col gap-2",o),children:[a&&(0,s.jsx)("label",{htmlFor:m,className:"text-[#111418] dark:text-white text-sm font-medium leading-normal",children:a}),(0,s.jsxs)("div",{className:"relative",children:[i&&(0,s.jsx)("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#92a4c9] pointer-events-none flex items-center justify-center",children:i}),(0,s.jsx)("input",{ref:t,id:m,className:(0,l.cn)("flex w-full min-w-0 resize-none overflow-hidden rounded-lg","bg-white dark:bg-[#111722]","border border-[#d1d5db] dark:border-[#324467]","text-[#111418] dark:text-white placeholder:text-[#92a4c9] text-base font-normal leading-normal","focus:outline-0 focus:ring-2 focus:ring-primary/50 focus:border-primary","transition-all duration-200","h-12 md:h-14",i?"pl-12":"pl-4",d||c?"pr-12":"pr-4",n?"border-red-500 focus:ring-red-500/50 focus:border-red-500":"",r),...x}),(d||c)&&(0,s.jsx)("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[#92a4c9] flex items-center justify-center",children:c||d})]}),n&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1 animate-pulse",children:n})]})});n.displayName="Input"},1433:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var s=r(2821),a=r(5889);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},1873:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(1847).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},2740:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>A});var s=r(5155),a=r(2115),l=r(1142),n=r(1040),i=r(1433);let d=(0,r(1847).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var c=r(1873),o=r(211);let u=e=>{let{auction:t,onClick:r}=e;return(0,s.jsxs)(n.Z,{className:"cursor-pointer hover:shadow-md transition-shadow duration-200 group",onClick:()=>null==r?void 0:r(t.id),children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsx)("span",{className:(0,i.cn)("px-2.5 py-0.5 rounded-full text-xs font-semibold uppercase",(e=>{switch(e){case"ACTIVE":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case"FINISHED":default:return"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-400";case"SCHEDULED":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";case"PAUSED":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400";case"CANCELLED":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}})(t.status)),children:(e=>({ACTIVE:"Aberto",FINISHED:"Encerrado",SCHEDULED:"Agendado",PAUSED:"Pausado",CANCELLED:"Cancelado"})[e]||e)(t.status)}),(0,s.jsxs)("span",{className:"text-xs text-slate-500 font-medium",children:["#",t.id.slice(0,8)]})]}),(0,s.jsx)("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-2 group-hover:text-primary transition-colors",children:t.name}),(0,s.jsxs)("div",{className:"space-y-2 text-sm text-slate-600 dark:text-slate-400 mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d,{size:16,className:"text-slate-400"}),(0,s.jsx)("span",{children:(0,o.Yq)(t.startDateTime)})]}),t.location&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(c.A,{size:16,className:"text-slate-400"}),(0,s.jsx)("span",{children:t.location})]})]}),(0,s.jsxs)("div",{className:"pt-4 border-t border-slate-100 dark:border-slate-800 flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"text-xs text-slate-500",children:["Itens: ",(0,s.jsx)("span",{className:"font-semibold text-slate-900 dark:text-white",children:"12"})]}),(0,s.jsxs)("div",{className:"flex flex-col text-right",children:[(0,s.jsx)("span",{className:"text-xs text-slate-400",children:"Total Estimado"}),(0,s.jsx)("span",{className:"text-sm font-bold text-primary",children:"R$ --"})]})]})]})},x=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,i.cn)("animate-pulse rounded-md bg-slate-200 dark:bg-slate-800",t),...r})},m=e=>{let{auctions:t,isLoading:r,onAuctionClick:a}=e;return r?(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(e=>(0,s.jsx)(x,{className:"h-[280px] w-full"},e))}):0===t.length?(0,s.jsx)("div",{className:"flex flex-col items-center justify-center py-20 bg-white dark:bg-[#111722] rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:(0,s.jsx)("p",{className:"text-slate-500 font-medium",children:"Nenhum leil\xe3o encontrado."})}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,s.jsx)(u,{auction:e,onClick:a},e.id))})};var h=r(1390),p=r(5132),f=r(6651),b=r(8577);let g=e=>{let{onSearch:t,onStatusFilter:r,currentStatus:a}=e;return(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(h.p,{placeholder:"Buscar leil\xf5es...",leftIcon:(0,s.jsx)(f.A,{size:18}),onChange:e=>t(e.target.value)})}),(0,s.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-2 md:pb-0",children:[(0,s.jsx)(p.$,{variant:"ALL"===a?"primary":"outline",onClick:()=>r("ALL"),className:"whitespace-nowrap",children:"Todos"}),(0,s.jsx)(p.$,{variant:a===b.Y.ACTIVE?"primary":"outline",onClick:()=>r(b.Y.ACTIVE),className:"whitespace-nowrap",children:"Abertos"}),(0,s.jsx)(p.$,{variant:a===b.Y.SCHEDULED?"primary":"outline",onClick:()=>r(b.Y.SCHEDULED),className:"whitespace-nowrap",children:"Agendados"}),(0,s.jsx)(p.$,{variant:a===b.Y.FINISHED?"primary":"outline",onClick:()=>r(b.Y.FINISHED),className:"whitespace-nowrap",children:"Encerrados"})]})]})};class y{async execute(e){return this.auctionRepository.findAll(e)}constructor(e){this.auctionRepository=e}}class v{async execute(e){if(!e)throw Error("Auction ID is required");return this.auctionRepository.findById(e)}constructor(e){this.auctionRepository=e}}class j{async execute(e){if(e.startDateTime>=e.endDateTime)throw Error("A data de t\xe9rmino deve ser posterior \xe0 data de in\xedcio.");return this.auctionRepository.create(e)}constructor(e){this.auctionRepository=e}}var N=r(334),k=r(6191),w=r(63),E=r(8720);function A(){let e=(0,w.useRouter)(),{auctions:t,isLoading:r,error:n,fetchAuctions:i}=function(){let[e,t]=(0,a.useState)(null),[r,s]=(0,a.useState)(null),[l,n]=(0,a.useState)(!1),[i,d]=(0,a.useState)(null),{auctionRepo:c}=(0,N.u)(),o=(0,a.useMemo)(()=>new y(c),[c]),u=(0,a.useMemo)(()=>new v(c),[c]),x=(0,a.useMemo)(()=>new j(c),[c]),m=(0,a.useCallback)(async e=>{n(!0),d(null);try{let r=await o.execute(e);t(r)}catch(e){d("Erro ao carregar leil\xf5es"),console.error(e)}finally{n(!1)}},[o]);return{auctions:e,currentAuction:r,isLoading:l,error:i,fetchAuctions:m,getAuction:(0,a.useCallback)(async e=>{n(!0),d(null);try{let t=await u.execute(e);return s(t),t}catch(e){return d("Erro ao buscar leil\xe3o"),console.error(e),null}finally{n(!1)}},[u]),createAuction:(0,a.useCallback)(async e=>{n(!0),d(null);try{return await x.execute(e)}catch(e){throw d("Erro ao criar leil\xe3o"),console.error(e),e}finally{n(!1)}},[x])}}(),[d,c]=(0,a.useState)(""),[o,u]=(0,a.useState)("ALL");return(0,a.useEffect)(()=>{n&&E.o.error(n)},[n]),(0,a.useEffect)(()=>{i({page:1,limit:10,search:d,status:"ALL"===o?void 0:o})},[i,d,o]),(0,s.jsxs)(l.m,{children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Leil\xf5es"}),(0,s.jsx)("p",{className:"text-slate-500 dark:text-slate-400",children:"Gerencie todos os leil\xf5es cadastrados no sistema."})]}),(0,s.jsxs)(p.$,{onClick:()=>{e.push("/leiloes/novo")},children:[(0,s.jsx)(k.A,{size:18,className:"mr-2"}),"Novo Leil\xe3o"]})]}),(0,s.jsx)(g,{onSearch:c,onStatusFilter:u,currentStatus:o}),(0,s.jsx)(m,{auctions:(null==t?void 0:t.data)||[],isLoading:r,onAuctionClick:t=>{e.push("/leiloes/".concat(t))}})]})}},5132:(e,t,r)=>{"use strict";r.d(t,{$:()=>n});var s=r(5155),a=r(2115),l=r(1433);let n=a.forwardRef((e,t)=>{let{className:r,variant:a="primary",size:n="md",isLoading:i=!1,leftIcon:d,rightIcon:c,children:o,disabled:u,fullWidth:x=!1,...m}=e;return(0,s.jsxs)("button",{ref:t,disabled:u||i,className:(0,l.cn)("inline-flex items-center justify-center rounded-lg font-bold leading-normal tracking-[0.015em] transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-primary/50 focus:ring-offset-1 dark:focus:ring-offset-[#101622]","disabled:opacity-50 disabled:cursor-not-allowed active:scale-[0.98]","border",{primary:"bg-primary hover:bg-primary/90 text-white shadow-lg shadow-primary/20 border-transparent",secondary:"bg-white dark:bg-[#111722] border-slate-200 dark:border-[#324467] text-slate-900 dark:text-white hover:bg-slate-50 dark:hover:bg-[#232f48]",outline:"bg-transparent border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800",ghost:"bg-transparent border-transparent text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800",danger:"bg-red-500/10 hover:bg-red-500/20 text-red-500 border-red-500/20"}[a],{sm:"h-9 px-3 text-xs",md:"h-12 md:h-14 px-6 text-sm md:text-base",lg:"h-14 px-8 text-base"}[n],x?"w-full":"",r),...m,children:[i&&(0,s.jsx)("span",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),!i&&d&&(0,s.jsx)("span",{className:"mr-2 flex items-center",children:d}),(0,s.jsx)("span",{className:"truncate",children:o}),!i&&c&&(0,s.jsx)("span",{className:"ml-2 flex items-center",children:c})]})});n.displayName="Button"},6191:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(1847).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6651:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(1847).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8275:(e,t,r)=>{Promise.resolve().then(r.bind(r,2740))}},e=>{e.O(0,[779,417,720,334,441,255,358],()=>e(e.s=8275)),_N_E=e.O()}]);